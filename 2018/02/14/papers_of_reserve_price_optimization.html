<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="author" content="ysk24ok">
  
  <meta name="description" content="reserve price最適化のpaperまとめ">
  <meta property="og:description" content="reserve price最適化のpaperまとめ">
  
  <meta property="og:image" content="https://ysk24ok.github.io/assets/images/profile.jpeg">
  <meta property="og:title" content="reserve price最適化のpaperまとめ">
  <meta property="og:url" content="https://ysk24ok.github.io/2018/02/14/papers_of_reserve_price_optimization.html">
  <meta property="og:type" content="article">
  <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
  <!-- MathJax -->
  <!-- http://docs.mathjax.org/en/latest/start.html#secure-access-to-the-cdn -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(','\\)'] ],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- bootstrap -->
  <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">
  <script src="/assets/js/jquery-2.1.4.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <!-- github.io default -->
  <link rel="stylesheet" type="text/css" href="/assets/css/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/assets/css/github-dark.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
  <!-- syntax highlight css -->
  <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" media="screen">
  <!-- My customized css -->
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css" media="screen">
  <!-- RSS -->
  <link href="/feed.xml" type="application/rss+xml" rel="alternate" title="ysk24ok.github.io" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-131519041-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-131519041-1');
  </script>
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <title>reserve price最適化のpaperまとめ - ysk24ok.github.io</title>
</head>

  <body>
    <div id="container">
      <div class="inner">
        <header>
  <h1><a href="/">ysk24ok.github.io</a></h1>
</header>
<nav class="navbar navbar-default" role="navigation">
  <ul id="main-navigation" class="nav navbar-nav">
    <li><a href="/">Home</a></li>
    <li><a href="/about">About</a></li>
  </ul>
</nav>

        <div class="post-item">
          <div class="post-header">
  <h1>
    <a href="/2018/02/14/papers_of_reserve_price_optimization.html">reserve price最適化のpaperまとめ</a>
  </h1>
  <ul class="post-tags">
    
      <li><a href="#">paper</a></li>
    
      <li><a href="#">reserve price optimization</a></li>
    
      <li><a href="#">Japanese</a></li>
    
  </ul>
  
  <div class="post-date">posted on 14 Feb 2018</div>
  
  <hr>
</div>

          <div class="post-content">
            <ul class="social-buttons">
  <!-- hatena bookmark -->
  <li>
    <a href="http://b.hatena.ne.jp/entry/ysk24ok.github.io/2018/02/14/papers_of_reserve_price_optimization.html" class="hatena-bookmark-button" data-hatena-bookmark-title="reserve price最適化のpaperまとめ - ysk24ok.github.io" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加">
      <img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" />
    </a>
    <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
  </li>
  <!-- twitter -->
  <li>
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </li>
</ul>

            <p>reserve price(floor price)最適化の論文をいくつか読んだので内容をメモ。</p>

<!-- more -->

<p>これまでに読んだreserve price最適化の論文のメモをまとめる。<br />
これ以降も読んだ論文が増えれば内容を追加していく予定だが、<br />
昔のpostを編集しつづけるのもブログっぽくない気がするのでいずれどこかにまとめ直すかも。</p>

<h1 id="revenue-optimization-with-approximate-bid-predictions">Revenue Optimization with Approximate Bid Predictions</h1>

<p>http://papers.nips.cc/paper/6782-revenue-optimization-with-approximate-bid-predictions<br />
NIPS2017 poster</p>

<h2 id="概要">概要</h2>

<p>最適なreserve priceをsquared lossの回帰モデルとして推定することができる？らしい。<br />
理論の論文なので読めてません。。。</p>

<h1 id="optimal-reserve-price-for-online-ads-trading-based-on-inventory-identification">Optimal Reserve Price for Online Ads Trading Based on Inventory Identification</h1>

<p>https://dl.acm.org/citation.cfm?id=3124749.3124760<br />
ADKDD’17</p>

<h2 id="概要-1">概要</h2>

<p>DSPが高額で入札してきている在庫についてreserve priceを高く設定することでseller側の収益を上げる。</p>

<h2 id="提案手法">提案手法</h2>

<p>モデルはwinning bucket predictionとprice separation predictionの2stageをcascadingさせ、<br />
各stageではboostingで弱学習器をアンサンブルしている。</p>

<ul>
  <li>winning bucket prediction (high value detection)
    <ul>
      <li>DSPの高額入札を特定する</li>
      <li>訓練データの1st priceをそのpriceのレンジに応じていくつかのbucketに離散化し、<br />
あるオークションについて1st priceがどのbucketに属するかを予測するモデルを作る</li>
    </ul>
  </li>
  <li>price separation prediction
    <ul>
      <li>訓練データの1st priceと2nd priceの差を、<br />
ある閾値以上であればpositive、それ以下であればnegativeとしてニ値化し、<br />
あるオークションについて1stと2ndの価格差が閾値以上に大きいかどうかを予測するモデルを作る</li>
    </ul>
  </li>
</ul>

<p>cascadingでは複数stageのうち1つでもnegativeと判定すればモデル全体としてnegativeと判定するため、
false positive rateを下げることができる。
reserve priceがbid priceを上回ってしまうと落札されずrevenueは0になってしまうので、
cascadingを使うことで確実にbid price &gt; reserve priceとなるオークションのみに適用できるようにする。</p>

<h2 id="実験結果">実験結果</h2>

<p>Yahoo ads exchangeのデータからrandom samplingしたデータに対してシミュレーションした結果、<br />
DSPが高額入札してくる割合は多くないにも関わらず、全体で3.5%の収益増となった。</p>

<p>productionで少量のトラフィックを流して試しており、<br />
false positive率を減らすために収益の増加は抑え気味にしている。</p>

<h2 id="コメント">コメント</h2>

<ul>
  <li>弱学習器として具体的に何を使用しているかは書いていないような？</li>
  <li>オークションに対してDSPが高額入札するかどうかを予測する部分について書いてはあるものの、具体的にreserve priceをいくらで設定するかは書いていないような？</li>
  <li>conclusionにも書いているが、DSPの高額入札に対してreserve priceを高く設定するため<br />
DSP側が高額で入札するときに支払いが増えていることに気付き、高額での入札をやめる可能性がある。<br />
そのため短期的には収益が上がっても長期的に見るとどうなんだろうというのはある。</li>
</ul>

<h1 id="data-driven-reserve-prices-for-social-advertising-auctions-at-linkedin">Data-Driven Reserve Prices for Social Advertising Auctions at LinkedIn</h1>

<p>https://dl.acm.org/citation.cfm?id=3124749.3124759<br />
ADKDD’17</p>

<h2 id="概要-2">概要</h2>

<p>ユーザ単位で求めたreserve priceからセグメント単位のreserve priceを推定し、<br />
advertiser experinceとpublisherの収益の上昇を図る。</p>

<h2 id="提案手法-1">提案手法</h2>

<p>入札者の評価値を対数正規分布を仮定した線形回帰でモデリングする。<br />
このときの$X$はオークション数xユーザのfeature数の行列、$y$は入札価格(1st price？)の対数である。<br />
これによりユーザごとにreserve priceを求めることができる。</p>

<p>ユーザごとのreserve priceはpublicにせず、<br />
これを使い式(6)によってcampaign単位(ユーザセグメント単位？)でreserve priceを計算している。<br />
入札額が低い傾向にある新興国のユーザセグメントか入札額が比較的高くなる傾向にある先進国のユーザセグメントかによって<br />
式(6)の$p$の値を調整している。</p>

<h2 id="結果">結果</h2>

<p>実際にシステムに実装して実データで実験した。<br />
reserve price最適化によって収益が上がったかどうかを測るrevenue-related metric、<br />
advertiserへの影響（campaignの新規作成率や停止率）を測るadvertiser-centric metricの2種類を使用した。<br />
結果、revenueは増加し、advertiserへの悪影響も見られなかった。</p>

<h2 id="コメント-1">コメント</h2>

<ul>
  <li>対数正規分布を仮定した線形回帰による入札者の評価値のモデリングがシンプルで使えるかも</li>
  <li>実験時にadvertiserのcampaignの新規作成率や停止率も評価しているのが良い。<br />
reserve priceを最適化すると入札者からすると支払いが増え、<br />
入札数が減るなどの対応がなされることが考えられるため。</li>
</ul>

<h1 id="real-time-optimization-of-web-publisher-rtb-revenues">Real-Time Optimization of Web Publisher RTB Revenues</h1>

<p>https://dl.acm.org/citation.cfm?id=3098150<br />
KDD’17</p>

<h2 id="概要-3">概要</h2>

<p>1st priceと2nd priceが打ち切られる可能性のある状況でも最適なreserve priceをオークションごとに予測する。</p>

<h2 id="前提">前提</h2>

<p>1st priceを$b_{1}$、2nd priceを$b_{2}$、reserve priceを$r$としたとき、</p>

<ol>
  <li>$b_{1} &lt; r$のとき、fully censored (1st, 2ndともに観測できない)</li>
  <li>$b_{2} &lt; r \leq b_{1}$のとき、half censored (1stのみ観測できる)</li>
  <li>$r \leq b_{2}$のとき、not censored (1stも2ndも観測できる)</li>
</ol>

<p>上2つは$b_{1}$あるいは$b_{2}$の上限が分かっているためleft censoredである。</p>

<h2 id="提案手法-2">提案手法</h2>

<p>上記の通りbid priceは打ち切られるケースがあるため、<br />
打ち切りデータにも対応できるモデルとして生存解析を利用する。<br />
まず、1st priceの分布のモデリングを考える(2nd priceの場合も基本的に同じ)。</p>

<p>生存時間関数の横軸は通常時間であり、<br />
ハザード関数は時間$t$までイベントが起こらなかった条件の下で時間$t+\Delta t$にイベントが起こる確率である。<br />
1st priceのモデリングでは横軸は価格となり、<br />
ハザード関数$\lambda$はbid priceが$\Delta p$だけ上昇した時にそのbid priceが観測される確率となる。</p>

<p>ここで、観測した全オークション$n$を1st price順に$K$個のグループに離散化する。<br />
1番目のグループは1st priceが最も低いオークションの集合となり、<br />
逆に$K$番目のグループは1st priceが最も高いオークションの集合となる。</p>

<p>ここで$k$番目のグループを取り出し、行列$C_{k} \in \mathcal{R}^{U \times P}$を考える。<br />
この行列の各要素には、あるユーザ$u$・ある枠$p$で観測したオークションにおいて<br />
1st priceが観測されていれば1、打ち切られていれば0が入る。<br />
この行列をmatrix factorizationを使って2つの潜在行列$M \in \mathcal{R}^{U \times L}$と$N \in \mathcal{R}^{P \times L}$に分解し、<br />
ハザード関数をモデリングする。<br />
ハザード関数が求まれば累積密度関数も求めることができるため、収益を計算することができる。</p>

<h2 id="実験結果-1">実験結果</h2>

<p>まだ読んでません。。</p>

<h2 id="コメント-2">コメント</h2>

<ul>
  <li>線形回帰で直接確率を推定しているようだが、<br />
ハザード関数の推定には線形確率モデルを使うものなんだろうか</li>
  <li>オークションが成約しないとbid priceが観測されないという状況がまずよく分からなかった。オークショニアは全買い手のbid priceを観測できるはずなので。ad exchangeは別業者がやっている場合でのSSP目線の話なんだろうか。</li>
</ul>

            <ul class="social-buttons">
  <!-- hatena bookmark -->
  <li>
    <a href="http://b.hatena.ne.jp/entry/ysk24ok.github.io/2018/02/14/papers_of_reserve_price_optimization.html" class="hatena-bookmark-button" data-hatena-bookmark-title="reserve price最適化のpaperまとめ - ysk24ok.github.io" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加">
      <img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" />
    </a>
    <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
  </li>
  <!-- twitter -->
  <li>
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </li>
</ul>

          </div>
        </div>
        <footer>
  This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
</footer>

      </div>
    </div>
  </body>
</html>
